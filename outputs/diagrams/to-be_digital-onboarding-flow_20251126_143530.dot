digraph ProcessDiagram {
  graph [rankdir=TB, bgcolor=white, pad=0.6, nodesep=0.6, ranksep=0.95, fontname=Helvetica, splines=ortho];
  node [fontname=Helvetica, fontsize=11, shape=rect, style="rounded,filled", fillcolor="#E3F2FD", color="#1565C0", penwidth=1.2, width=3.0];
  edge [color="#1565C0", penwidth=1.2, arrowsize=0.8];
  "node_start" [shape=circle, width=0.70, height=0.70, style=filled, fillcolor="#C8E6C9", color="#2E7D32", label="Start"];
  "node_end" [shape=circle, peripheries=2, width=0.70, height=0.70, style=filled, fillcolor="#FFCDD2", color="#C62828", label="End"];
  subgraph cluster_happy {
    style=rounded;
    color="#B0BEC5";
    penwidth=1.0;
    fontname=Helvetica; fontsize=12; labelloc="t"; labeljust="l"; label="Happy Path";
    "node_happy_1" [label=<<TABLE BORDER="0" CELLBORDER="0" CELLPADDING="6"><TR><TD ALIGN="left"><B>Happy Path #1</B></TD></TR><TR><TD ALIGN="left">Customer enters personal data in web form.</TD></TR></TABLE>>];
  "node_start" -> "node_happy_1";
    "node_happy_2" [label=<<TABLE BORDER="0" CELLBORDER="0" CELLPADDING="6"><TR><TD ALIGN="left"><B>Happy Path #2</B></TD></TR><TR><TD ALIGN="left">Data is sent to KYC API (v3.1) via OAuth 2.0.</TD></TR></TABLE>>];
  "node_happy_1" -> "node_happy_2";
    "node_happy_3" [label=<<TABLE BORDER="0" CELLBORDER="0" CELLPADDING="6"><TR><TD ALIGN="left"><B>Happy Path #3</B></TD></TR><TR><TD ALIGN="left">KYC response and confidence score are returned instantly.</TD></TR></TABLE>>];
  "node_happy_2" -> "node_happy_3";
    "node_happy_4" [label=<<TABLE BORDER="0" CELLBORDER="0" CELLPADDING="6"><TR><TD ALIGN="left"><B>Happy Path #4</B></TD></TR><TR><TD ALIGN="left">OCR service parses uploaded documents into XML.</TD></TR></TABLE>>];
  "node_happy_3" -> "node_happy_4";
    "node_happy_5" [label=<<TABLE BORDER="0" CELLBORDER="0" CELLPADDING="6"><TR><TD ALIGN="left"><B>Happy Path #5</B></TD></TR><TR><TD ALIGN="left">Validation layer checks accuracy against 99.9% threshold.</TD></TR></TABLE>>];
  "node_happy_4" -> "node_happy_5";
    "node_happy_6" [label=<<TABLE BORDER="0" CELLBORDER="0" CELLPADDING="6"><TR><TD ALIGN="left"><B>Happy Path #6</B></TD></TR><TR><TD ALIGN="left">Audit log payload is posted to compliance portal over mutual TLS.</TD></TR></TABLE>>];
  "node_happy_5" -> "node_happy_6";
    "node_happy_7" [label=<<TABLE BORDER="0" CELLBORDER="0" CELLPADDING="6"><TR><TD ALIGN="left"><B>Happy Path #7</B></TD></TR><TR><TD ALIGN="left">Payment gateway processes initial deposit with HMAC‑SHA256 signature.</TD></TR></TABLE>>];
  "node_happy_6" -> "node_happy_7";
  }
  subgraph cluster_unhappy {
    style=rounded;
    color="#B0BEC5";
    penwidth=1.0;
    fontname=Helvetica; fontsize=12; labelloc="t"; labeljust="l"; label="Exception Path";
    "node_unhappy_1" [label=<<TABLE BORDER="0" CELLBORDER="0" CELLPADDING="6"><TR><TD ALIGN="left"><B>Exception Path #1</B></TD></TR><TR><TD ALIGN="left">KYC API fails; fallback OCR captures data and queues request in Azure Service Bus.</TD></TR></TABLE>>];
  "node_start" -> "node_unhappy_1";
    "node_unhappy_2" [label=<<TABLE BORDER="0" CELLBORDER="0" CELLPADDING="6"><TR><TD ALIGN="left"><B>Exception Path #2</B></TD></TR><TR><TD ALIGN="left">OCR returns errors; user is prompted for manual correction.</TD></TR></TABLE>>];
  "node_unhappy_1" -> "node_unhappy_2";
    "node_unhappy_3" [label=<<TABLE BORDER="0" CELLBORDER="0" CELLPADDING="6"><TR><TD ALIGN="left"><B>Exception Path #3</B></TD></TR><TR><TD ALIGN="left">Compliance portal timeout; retry logic triggers within SLA.</TD></TR></TABLE>>];
  "node_unhappy_2" -> "node_unhappy_3";
    "node_unhappy_4" [label=<<TABLE BORDER="0" CELLBORDER="0" CELLPADDING="6"><TR><TD ALIGN="left"><B>Exception Path #4</B></TD></TR><TR><TD ALIGN="left">Payment gateway error; transaction is flagged for manual review.</TD></TR></TABLE>>];
  "node_unhappy_3" -> "node_unhappy_4";
  }
  "node_happy_7" -> "node_end";
  "node_unhappy_4" -> "node_end";
  "diagram_title" [shape=plaintext, label=<<TABLE BORDER="0" CELLBORDER="0" CELLPADDING="6"><TR><TD ALIGN="left"><B>Process</B></TD></TR><TR><TD ALIGN="left">Digital Onboarding Flow · Future (TO-BE) Process Flows</TD></TR></TABLE>>, fontname=Helvetica, fontsize=13];
  "diagram_title" -> "node_start" [style=invis, weight=2];
  "node_start" -> "node_end" [style=invis, weight=0];
}